language: c

os:
        - linux
        - osx

env:
#        - USE_NFN=1 USE_NACK=1 #Fix NACKS and reenable this
        - USE_NFN=1

compiler: 
        - clang
        - gcc

branches:
        only:
                - master
                - dev-master

install:
        - sudo apt-get update -y 
        - sudo apt-get install -y libssl-dev build-essential
#        - sudo apt-get install linux-headers-$(uname -r)

script:
        - cd src 
        - make clean all
          #        - ./build-test.sh #Reenable if kernel problems on travis-ci are fixed
        - cd -

after_success:
        - cd ./test/scripts
        - demo-relay.sh ccnb udp false
        - demo-relay.sh ccnb ux false 
        - demo-relay.sh ccnx2015 udp false
        - demo-relay.sh ccnx2015 ux false 
        - demo-relay.sh cisco2015 udp false 
        - demo-relay.sh cisco2015 ux false 
        - demo-relay.sh iot2014 udp false 
        - demo-relay.sh iot2014 ux false
        - demo-relay.sh ndn2013 udp false 
        - demo-relay.sh ndn2013 ux false 
